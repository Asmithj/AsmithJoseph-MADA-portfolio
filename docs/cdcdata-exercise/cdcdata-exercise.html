<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Asmith Joseph">
<meta name="dcterms.date" content="2025-02-02">

<title>Exercise 5: Processing Data (CDC) – Asmith Joseph Data Analysis Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-ddd961a2510921635943dfbbd19534c4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Asmith Joseph Data Analysis Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../aboutme.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../starter-analysis-exercise/products/report/starter-analysis-report.html">
 <span class="dropdown-text">Starter Analysis Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../coding-exercise/coding-exercise.html">
 <span class="dropdown-text">R Coding Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../synthetic-data-exercise/synthetic-data-exercise.html">
 <span class="dropdown-text">Synthetic Data Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cdcdata-exercise/cdcdata-exercise.html">
 <span class="dropdown-text">Exercise 5: Processing Data (CDC)</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Asmithj/AsmithJoseph-MADA-portfolio"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercise 5: Processing Data (CDC)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Asmith Joseph </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 2, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="data-source-description" class="level1">
<h1>Data Source Description</h1>
<p>The National Artesunate for Severe Malaria Program Case Report Data (April - December 2019) provides deidentified patient data on individuals receiving intravenous (IV) artesunate, the first-line treatment for severe malaria. Collected through the Centers for Disease Control and Prevention (CDC), this dataset contains 197 observations and 119 clinical variables, detailing malaria diagnosis methods, organ dysfunction indicators, laboratory values, and treatment responses. Each patient is assigned a unique ParticipantID, which allows linkage to related datasets, including Artesun ate Dosing Data, Follow-On Antimalarial Dosing Data, and Microscopy (Parasitemia) Data. The dataset, last updated on April 10, 2020, is publicly available on the CDC open data portal (https://data.cdc.gov/Global-Health/National-Artesunate-for-Severe-Malaria-Program-Cas/igaz-icki/about_data). Key variables include Dx (diagnosis method), IV_parasitemia (malaria confirmation), IV_shock (shock status), IV_ards (Acute Respiratory Distress Syndrome), IV_ARF (Acute Renal Failure), and IV_DIC (Disseminated Intravascular Coagulation). Additionally, it includes a Data Dictionary and a Guide to NASMP Datasets, offering comprehensive documentation for analysis.</p>
</section>
<section id="explanations-of-downloading-and-saving-the-dataset.-see-below-for-the-code" class="level1">
<h1>Explanations of Downloading and saving the dataset. See below for the code!</h1>
<p>To work with this dataset, the first step is I download the dataset from the CDC Open Data Portal in CSV format. This is done by defining the dataset’s URL and using R’s read_csv() function to import it into a dataframe. Once the data is loaded, the head() function is used to preview the first few rows, and the View() function allows for manual inspection in RStudio’s data viewer. After confirming that the dataset has been successfully retrieved, the next step is to save it locally for easier access. To do this, a local file path is specified, ensuring that the dataset is stored in a designated folder on the computer. The write_csv() function is then used to save the dataframe as a CSV file in the specified directory.</p>
</section>
<section id="downloading-the-data." class="level1">
<h1>Downloading the data.</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Installing necessary libraries to read the OData Atom XML feed (It is a is a structured XML document used for exposing and consuming data via OData APIs)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Installing necessary libraries to read the OData Atom XML feed</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'httr' was built under R version 4.4.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'jsonlite' was built under R version 4.4.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.4.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define CSV URL</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>csv_url <span class="ot">&lt;-</span> <span class="st">"https://data.cdc.gov/api/views/igaz-icki/rows.csv"</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read CSV into a dataframe</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>cdcMalaria <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(csv_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 197 Columns: 119
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (22): Dx, Date_consented, Date_recorded, Age Group, Race, Race_other_spe...
dbl (89): ParticipantID, IV_npo, IV_parasitemia, IV_parasitemia_spec, IV_cns...
lgl  (8): Pre_other_spec, Admit_CBC_time, Admit_chempanel_time, Admit_LDH_ti...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first few rows</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcMalaria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 119
  ParticipantID Dx        IV_npo IV_parasitemia IV_parasitemia_spec IV_cns IV_sz
          &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1             1 Microsco…      0              1               11         1     0
2             2 Clinical       0              0               NA         0     0
3             3 Microsco…      0              1                9.20      0     0
4             4 Microsco…      0              1               44         1     0
5             5 Clinical       1              0               NA         1     0
6             6 Microsco…      1              1               21         0     0
# ℹ 112 more variables: IV_shock &lt;dbl&gt;, IV_shock_pressors &lt;dbl&gt;, IV_ards &lt;dbl&gt;,
#   IV_acidosis &lt;dbl&gt;, IV_ARF &lt;dbl&gt;, IV_ARF_BUN &lt;dbl&gt;, IV_ARF_creatinine &lt;dbl&gt;,
#   IV_DIC &lt;dbl&gt;, IV_jaundice &lt;dbl&gt;, IV_jaundice_bili &lt;dbl&gt;, IV_anemia &lt;dbl&gt;,
#   IV_anemia_hgb &lt;dbl&gt;, Eligible &lt;dbl&gt;, Severe &lt;dbl&gt;, Date_consented &lt;chr&gt;,
#   Date_recorded &lt;chr&gt;, `Age Group` &lt;chr&gt;, Sex &lt;dbl&gt;, Latino &lt;dbl&gt;,
#   Race &lt;chr&gt;, Race_other_spec &lt;chr&gt;, Pregnant &lt;dbl&gt;, EGA &lt;dbl&gt;,
#   Trimester &lt;dbl&gt;, Smear_done &lt;dbl&gt;, Smear_read &lt;dbl&gt;, Admit_species &lt;chr&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(cdcMalaria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'here' was built under R version 4.4.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at C:/Users/ajose35/Desktop/MADA-course/AsmithJoseph-MADA-portfolio</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the CSV URL</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>csv_url <span class="ot">&lt;-</span> <span class="st">"https://data.cdc.gov/api/views/igaz-icki/rows.csv"</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define local path</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>local_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"cdc_data.csv"</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Download the dataset only if it doesn't exist to avoid re-downloading</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(local_path)) {</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(csv_url, local_path, <span class="at">mode =</span> <span class="st">"wb"</span>)  <span class="co"># `mode = "wb"` ensures proper file handling</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the CSV file</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(local_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 197 Columns: 119</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (22): Dx, Date_consented, Date_recorded, Age Group, Race, Race_other_spe...
dbl (89): ParticipantID, IV_npo, IV_parasitemia, IV_parasitemia_spec, IV_cns...
lgl  (8): Pre_other_spec, Admit_CBC_time, Admit_chempanel_time, Admit_LDH_ti...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print first few rows</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 119
  ParticipantID Dx        IV_npo IV_parasitemia IV_parasitemia_spec IV_cns IV_sz
          &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1             1 Microsco…      0              1               11         1     0
2             2 Clinical       0              0               NA         0     0
3             3 Microsco…      0              1                9.20      0     0
4             4 Microsco…      0              1               44         1     0
5             5 Clinical       1              0               NA         1     0
6             6 Microsco…      1              1               21         0     0
# ℹ 112 more variables: IV_shock &lt;dbl&gt;, IV_shock_pressors &lt;dbl&gt;, IV_ards &lt;dbl&gt;,
#   IV_acidosis &lt;dbl&gt;, IV_ARF &lt;dbl&gt;, IV_ARF_BUN &lt;dbl&gt;, IV_ARF_creatinine &lt;dbl&gt;,
#   IV_DIC &lt;dbl&gt;, IV_jaundice &lt;dbl&gt;, IV_jaundice_bili &lt;dbl&gt;, IV_anemia &lt;dbl&gt;,
#   IV_anemia_hgb &lt;dbl&gt;, Eligible &lt;dbl&gt;, Severe &lt;dbl&gt;, Date_consented &lt;chr&gt;,
#   Date_recorded &lt;chr&gt;, `Age Group` &lt;chr&gt;, Sex &lt;dbl&gt;, Latino &lt;dbl&gt;,
#   Race &lt;chr&gt;, Race_other_spec &lt;chr&gt;, Pregnant &lt;dbl&gt;, EGA &lt;dbl&gt;,
#   Trimester &lt;dbl&gt;, Smear_done &lt;dbl&gt;, Smear_read &lt;dbl&gt;, Admit_species &lt;chr&gt;, …</code></pre>
</div>
</div>
</section>
<section id="explanations-of-exploratorydescriptive-data-analysis.-see-below-for-the-code" class="level1">
<h1>Explanations of Exploratory/Descriptive Data Analysis. See below for the code!</h1>
<p>To explore the dataset, I begin by loading necessary libraries such as dplyr, ggplot2, readr, and tidyr to facilitate data manipulation and visualization. The initial data exploration involves viewing the first few rows using head(cdcMalaria), checking the structure with str(cdcMalaria), and generating summary statistics with summary(cdcMalaria). Next, I create summary tables for categorical variables, selecting relevant columns such as “Dx” and “FO_appropriate” and computing the percentage distribution of each category using a function that groups the data and calculates proportions. For continuous variables, a summary table is generated that includes mean, standard deviation, minimum, quartiles (25%, 50%, 75%), and maximum values, while handling missing data by excluding NA values. Moving on to visualizations, bar charts are generated for categorical variables, where ggplot2 is used to plot distributions with bars representing percentages of each category. Similarly, histograms with density curves are created for continuous variables to visualize their distributions, with bins set to 20 and a density line overlayed in red. Since the dataset contains multiple numeric variables, only the first five continuous variables are plotted to keep visualizations manageable.</p>
</section>
<section id="data-exploration-through-tables" class="level1">
<h1>Data exploration through tables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading the necessary libraries </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Viewing the first few rows</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cdcMalaria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 119
  ParticipantID Dx        IV_npo IV_parasitemia IV_parasitemia_spec IV_cns IV_sz
          &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;          &lt;dbl&gt;               &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1             1 Microsco…      0              1               11         1     0
2             2 Clinical       0              0               NA         0     0
3             3 Microsco…      0              1                9.20      0     0
4             4 Microsco…      0              1               44         1     0
5             5 Clinical       1              0               NA         1     0
6             6 Microsco…      1              1               21         0     0
# ℹ 112 more variables: IV_shock &lt;dbl&gt;, IV_shock_pressors &lt;dbl&gt;, IV_ards &lt;dbl&gt;,
#   IV_acidosis &lt;dbl&gt;, IV_ARF &lt;dbl&gt;, IV_ARF_BUN &lt;dbl&gt;, IV_ARF_creatinine &lt;dbl&gt;,
#   IV_DIC &lt;dbl&gt;, IV_jaundice &lt;dbl&gt;, IV_jaundice_bili &lt;dbl&gt;, IV_anemia &lt;dbl&gt;,
#   IV_anemia_hgb &lt;dbl&gt;, Eligible &lt;dbl&gt;, Severe &lt;dbl&gt;, Date_consented &lt;chr&gt;,
#   Date_recorded &lt;chr&gt;, `Age Group` &lt;chr&gt;, Sex &lt;dbl&gt;, Latino &lt;dbl&gt;,
#   Race &lt;chr&gt;, Race_other_spec &lt;chr&gt;, Pregnant &lt;dbl&gt;, EGA &lt;dbl&gt;,
#   Trimester &lt;dbl&gt;, Smear_done &lt;dbl&gt;, Smear_read &lt;dbl&gt;, Admit_species &lt;chr&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the structure of the dataset</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cdcMalaria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [197 × 119] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ ParticipantID        : num [1:197] 1 2 3 4 5 6 7 8 9 10 ...
 $ Dx                   : chr [1:197] "Microscopy" "Clinical" "Microscopy" "Microscopy" ...
 $ IV_npo               : num [1:197] 0 0 0 0 1 1 0 0 1 0 ...
 $ IV_parasitemia       : num [1:197] 1 0 1 1 0 1 1 1 0 1 ...
 $ IV_parasitemia_spec  : num [1:197] 11 NA 9.2 44 NA ...
 $ IV_cns               : num [1:197] 1 0 0 1 1 0 0 0 0 0 ...
 $ IV_sz                : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ IV_shock             : num [1:197] 0 0 0 1 0 0 0 0 1 0 ...
 $ IV_shock_pressors    : num [1:197] 0 0 0 1 0 0 0 0 1 0 ...
 $ IV_ards              : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ IV_acidosis          : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ IV_ARF               : num [1:197] 0 1 0 0 0 1 1 0 0 0 ...
 $ IV_ARF_BUN           : num [1:197] NA 56 NA NA NA 66 28 NA NA NA ...
 $ IV_ARF_creatinine    : num [1:197] NA 5 NA NA NA ...
 $ IV_DIC               : num [1:197] 0 1 0 0 0 0 0 0 0 0 ...
 $ IV_jaundice          : num [1:197] 0 1 0 0 0 1 1 0 0 0 ...
 $ IV_jaundice_bili     : num [1:197] NA 12.2 NA NA NA ...
 $ IV_anemia            : num [1:197] 0 0 0 0 0 0 0 0 1 0 ...
 $ IV_anemia_hgb        : num [1:197] NA NA NA NA NA ...
 $ Eligible             : num [1:197] 1 1 1 1 1 1 1 1 1 1 ...
 $ Severe               : num [1:197] 1 1 1 1 1 1 1 1 1 1 ...
 $ Date_consented       : chr [1:197] "04/06/2019 12:00:00 AM" "04/11/2019 12:00:00 AM" "04/13/2019 12:00:00 AM" "04/14/2019 12:00:00 AM" ...
 $ Date_recorded        : chr [1:197] "04/06/2019 12:00:00 AM" "04/11/2019 12:00:00 AM" "04/13/2019 12:00:00 AM" "04/15/2019 12:00:00 AM" ...
 $ Age Group            : chr [1:197] "19-60" "19-60" "5-18" "19-60" ...
 $ Sex                  : num [1:197] 0 0 1 1 1 1 1 0 1 0 ...
 $ Latino               : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ Race                 : chr [1:197] "White" "Black/AA" "Black/AA" "Black/AA" ...
 $ Race_other_spec      : chr [1:197] NA NA NA NA ...
 $ Pregnant             : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ EGA                  : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Trimester            : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Smear_done           : num [1:197] 1 1 1 1 1 1 1 1 1 1 ...
 $ Smear_read           : num [1:197] 1 1 1 1 1 1 1 1 1 1 ...
 $ Admit_species        : chr [1:197] "Pf" "Pf" "Pf" "Pf" ...
 $ Admit_mixed_specify  : chr [1:197] NA NA NA NA ...
 $ Admit_parasitemia    : num [1:197] 11 0.4 9.2 44 0.1 21 19.5 5.1 NA 7.4 ...
 $ Pre_antimalarial     : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_coartem          : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_malarone         : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_doxy             : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_mefloquine       : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_clinda           : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_quinine          : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_other            : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Pre_other_spec       : logi [1:197] NA NA NA NA NA NA ...
 $ Admit_CBC_date       : chr [1:197] NA "04/09/2019 10:42:00 PM" "04/13/2019 01:33:00 PM" "04/14/2019 03:34:00 PM" ...
 $ Admit_CBC_time       : logi [1:197] FALSE TRUE TRUE TRUE FALSE TRUE ...
 $ Admit_HGB            : num [1:197] NA 15.7 10.9 10.5 11.3 9.5 12.5 10.5 6.7 14.9 ...
 $ Admit_HCT            : num [1:197] NA 46 33 34 32 30 37 31 19 45 ...
 $ Admit_PLT            : num [1:197] NA 72 176 43 133 46 14 57 44 44 ...
 $ Admit_WBC            : num [1:197] NA 7.8 6.5 4.03 8.01 ...
 $ Admit_chempanel_date : chr [1:197] NA "04/09/2019 10:42:00 PM" "04/13/2019 01:33:00 PM" "04/14/2019 03:34:00 PM" ...
 $ Admit_chempanel_time : logi [1:197] FALSE TRUE TRUE TRUE FALSE TRUE ...
 $ Admit_Na             : num [1:197] NA 131 127 133 130 142 134 133 134 137 ...
 $ Admit_K              : num [1:197] NA 2.8 3.4 3.7 4.3 ...
 $ Admit_Cl             : num [1:197] NA 92 97 101 94 11 98 100 102 101 ...
 $ Admit_HCO3           : num [1:197] NA 27 21 NA 2 11 17 23 19 29 ...
 $ Admit_BUN            : num [1:197] NA 26 13 16 19 66 28 10 24 15 ...
 $ Admit_creatinine     : num [1:197] NA 1.3 0.53 0.9 1.1 ...
 $ Admit_glucose        : num [1:197] NA 167 124 106 121 109 96 90 117 138 ...
 $ Admit_AST            : num [1:197] NA 269 30 36 55 60 142 32 326 52 ...
 $ Admit_ALT            : num [1:197] NA 140 16 17 40 36 122 13 110 49 ...
 $ Admit_bili           : num [1:197] NA 4.2 0.3 2.7 0.8 ...
 $ Admit_LDH_date       : chr [1:197] NA "04/10/2019 07:42:00 AM" "04/13/2019 01:33:00 PM" "04/14/2019 03:34:00 PM" ...
 $ Admit_LDH_time       : logi [1:197] FALSE TRUE TRUE TRUE FALSE TRUE ...
 $ Admit_LDH            : num [1:197] NA 1999 NA NA NA ...
 $ AS_lot               : chr [1:197] "AA241-1-10-01" "AA241-1-10-01" "AA241-1-10-01" "AA241-1-10-01" ...
 $ Weight               : num [1:197] 102 95 28 68 65 100 91 22 63 86 ...
 $ Num_AS_std           : num [1:197] 4 4 4 4 4 4 4 4 4 4 ...
 $ Extra_AS             : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ Extra_AS_npo         : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Extra_AS_parasitemia : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Extra_AS_other       : num [1:197] NA NA NA NA NA NA NA NA NA NA ...
 $ Extra_AS_other_spec  : chr [1:197] NA NA NA NA ...
 $ FollowOn_oral        : num [1:197] 1 1 1 1 1 1 1 1 1 1 ...
 $ FollowOn_oral_spec   : chr [1:197] NA NA NA NA ...
 $ FollowOn_ok          : num [1:197] 1 1 1 1 1 1 1 1 1 1 ...
 $ FollowOn_notes       : chr [1:197] NA NA NA NA ...
 $ Adjunct_tx           : num [1:197] 0 1 0 1 0 1 1 0 0 0 ...
 $ Transfusion          : num [1:197] 0 0 0 0 0 1 1 0 0 0 ...
 $ Exchange             : num [1:197] 0 0 0 0 0 0 0 0 0 0 ...
 $ Dialysis             : num [1:197] 0 1 0 0 0 0 0 0 0 0 ...
 $ Vasopressors         : num [1:197] 0 0 0 1 0 0 0 0 0 0 ...
 $ Adjunct_other        : num [1:197] 0 0 0 0 0 1 0 0 0 0 ...
 $ Adjunct_other_spec   : chr [1:197] NA NA NA NA ...
 $ FU_CBC_date          : chr [1:197] NA "04/13/2019 02:49:00 PM" "04/16/2019 04:05:00 AM" "04/17/2019 05:50:00 AM" ...
 $ FU_CBC_time          : logi [1:197] FALSE TRUE TRUE TRUE TRUE TRUE ...
 $ FU_HGB               : num [1:197] NA 10.8 8.9 8.5 8.5 ...
 $ FU_HCT               : num [1:197] NA 30 27 27 26 21 27 27 23 43 ...
 $ FU_PLT               : num [1:197] NA 68 227 120 NA 51 5 152 107 101 ...
 $ FU_WBC               : num [1:197] NA 10.9 5.6 3.46 9.18 ...
 $ FU_chempanel_date    : chr [1:197] NA "04/13/2019 02:49:00 PM" "04/16/2019 04:05:00 AM" "04/17/2019 05:50:00 AM" ...
 $ FU_chempanel_time    : logi [1:197] FALSE TRUE TRUE TRUE TRUE TRUE ...
 $ FU_Na                : num [1:197] NA 132 135 139 135 153 129 137 140 142 ...
 $ FU_K                 : num [1:197] NA 3.4 3.9 3.6 4.1 ...
 $ FU_Cl                : num [1:197] NA 96 101 106 104 124 98 104 106 103 ...
 $ FU_HCO3              : num [1:197] NA 27 27 NA 23 25 20 27 23 29 ...
 $ FU_BUN               : num [1:197] NA 28 4 7 6 37 88 6 20 9 ...
 $ FU_creatinine        : num [1:197] NA 3.2 0.36 0.6 0.9 ...
  [list output truncated]
 - attr(*, "spec")=
  .. cols(
  ..   ParticipantID = col_double(),
  ..   Dx = col_character(),
  ..   IV_npo = col_double(),
  ..   IV_parasitemia = col_double(),
  ..   IV_parasitemia_spec = col_double(),
  ..   IV_cns = col_double(),
  ..   IV_sz = col_double(),
  ..   IV_shock = col_double(),
  ..   IV_shock_pressors = col_double(),
  ..   IV_ards = col_double(),
  ..   IV_acidosis = col_double(),
  ..   IV_ARF = col_double(),
  ..   IV_ARF_BUN = col_double(),
  ..   IV_ARF_creatinine = col_double(),
  ..   IV_DIC = col_double(),
  ..   IV_jaundice = col_double(),
  ..   IV_jaundice_bili = col_double(),
  ..   IV_anemia = col_double(),
  ..   IV_anemia_hgb = col_double(),
  ..   Eligible = col_double(),
  ..   Severe = col_double(),
  ..   Date_consented = col_character(),
  ..   Date_recorded = col_character(),
  ..   `Age Group` = col_character(),
  ..   Sex = col_double(),
  ..   Latino = col_double(),
  ..   Race = col_character(),
  ..   Race_other_spec = col_character(),
  ..   Pregnant = col_double(),
  ..   EGA = col_double(),
  ..   Trimester = col_double(),
  ..   Smear_done = col_double(),
  ..   Smear_read = col_double(),
  ..   Admit_species = col_character(),
  ..   Admit_mixed_specify = col_character(),
  ..   Admit_parasitemia = col_double(),
  ..   Pre_antimalarial = col_double(),
  ..   Pre_coartem = col_double(),
  ..   Pre_malarone = col_double(),
  ..   Pre_doxy = col_double(),
  ..   Pre_mefloquine = col_double(),
  ..   Pre_clinda = col_double(),
  ..   Pre_quinine = col_double(),
  ..   Pre_other = col_double(),
  ..   Pre_other_spec = col_logical(),
  ..   Admit_CBC_date = col_character(),
  ..   Admit_CBC_time = col_logical(),
  ..   Admit_HGB = col_double(),
  ..   Admit_HCT = col_double(),
  ..   Admit_PLT = col_double(),
  ..   Admit_WBC = col_double(),
  ..   Admit_chempanel_date = col_character(),
  ..   Admit_chempanel_time = col_logical(),
  ..   Admit_Na = col_double(),
  ..   Admit_K = col_double(),
  ..   Admit_Cl = col_double(),
  ..   Admit_HCO3 = col_double(),
  ..   Admit_BUN = col_double(),
  ..   Admit_creatinine = col_double(),
  ..   Admit_glucose = col_double(),
  ..   Admit_AST = col_double(),
  ..   Admit_ALT = col_double(),
  ..   Admit_bili = col_double(),
  ..   Admit_LDH_date = col_character(),
  ..   Admit_LDH_time = col_logical(),
  ..   Admit_LDH = col_double(),
  ..   AS_lot = col_character(),
  ..   Weight = col_double(),
  ..   Num_AS_std = col_double(),
  ..   Extra_AS = col_double(),
  ..   Extra_AS_npo = col_double(),
  ..   Extra_AS_parasitemia = col_double(),
  ..   Extra_AS_other = col_double(),
  ..   Extra_AS_other_spec = col_character(),
  ..   FollowOn_oral = col_double(),
  ..   FollowOn_oral_spec = col_character(),
  ..   FollowOn_ok = col_double(),
  ..   FollowOn_notes = col_character(),
  ..   Adjunct_tx = col_double(),
  ..   Transfusion = col_double(),
  ..   Exchange = col_double(),
  ..   Dialysis = col_double(),
  ..   Vasopressors = col_double(),
  ..   Adjunct_other = col_double(),
  ..   Adjunct_other_spec = col_character(),
  ..   FU_CBC_date = col_character(),
  ..   FU_CBC_time = col_logical(),
  ..   FU_HGB = col_double(),
  ..   FU_HCT = col_double(),
  ..   FU_PLT = col_double(),
  ..   FU_WBC = col_double(),
  ..   FU_chempanel_date = col_character(),
  ..   FU_chempanel_time = col_logical(),
  ..   FU_Na = col_double(),
  ..   FU_K = col_double(),
  ..   FU_Cl = col_double(),
  ..   FU_HCO3 = col_double(),
  ..   FU_BUN = col_double(),
  ..   FU_creatinine = col_double(),
  ..   FU_glucose = col_double(),
  ..   FU_AST = col_double(),
  ..   FU_ALT = col_double(),
  ..   FU_bili = col_double(),
  ..   FU_LDH_date = col_character(),
  ..   FU_LDH_time = col_logical(),
  ..   FU_LDH = col_double(),
  ..   End_date = col_character(),
  ..   Tx_complete = col_double(),
  ..   Incomplete_spec = col_character(),
  ..   Incomplete_other_spec = col_character(),
  ..   FO_coartem = col_double(),
  ..   FO_malarone = col_double(),
  ..   FO_doxy = col_double(),
  ..   FO_mefloquine = col_double(),
  ..   FO_clinda = col_double(),
  ..   FO_quinine = col_double(),
  ..   FO_other = col_double(),
  ..   FO_other_spec = col_logical(),
  ..   FO_appropriate = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cdcMalaria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ParticipantID      Dx                IV_npo       IV_parasitemia  
 Min.   :  1   Length:197         Min.   :0.0000   Min.   :0.0000  
 1st Qu.: 50   Class :character   1st Qu.:0.0000   1st Qu.:1.0000  
 Median : 99   Mode  :character   Median :0.0000   Median :1.0000  
 Mean   : 99                      Mean   :0.1574   Mean   :0.7513  
 3rd Qu.:148                      3rd Qu.:0.0000   3rd Qu.:1.0000  
 Max.   :197                      Max.   :1.0000   Max.   :1.0000  
                                                                   
 IV_parasitemia_spec     IV_cns          IV_sz            IV_shock     
 Min.   : 5.00       Min.   :0.000   Min.   :0.00000   Min.   :0.0000  
 1st Qu.: 7.00       1st Qu.:0.000   1st Qu.:0.00000   1st Qu.:0.0000  
 Median :10.00       Median :0.000   Median :0.00000   Median :0.0000  
 Mean   :13.98       Mean   :0.269   Mean   :0.03553   Mean   :0.1523  
 3rd Qu.:15.18       3rd Qu.:1.000   3rd Qu.:0.00000   3rd Qu.:0.0000  
 Max.   :69.00       Max.   :1.000   Max.   :1.00000   Max.   :1.0000  
 NA's   :49                                                            
 IV_shock_pressors    IV_ards         IV_acidosis         IV_ARF      
 Min.   :0.0000    Min.   :0.00000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.0000    1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :0.0000    Median :0.00000   Median :0.0000   Median :0.0000  
 Mean   :0.1066    Mean   :0.08122   Mean   :0.2081   Mean   :0.3096  
 3rd Qu.:0.0000    3rd Qu.:0.00000   3rd Qu.:0.0000   3rd Qu.:1.0000  
 Max.   :1.0000    Max.   :1.00000   Max.   :1.0000   Max.   :1.0000  
                                                                      
   IV_ARF_BUN     IV_ARF_creatinine     IV_DIC         IV_jaundice    
 Min.   :  9.00   Min.   :0.500     Min.   :0.00000   Min.   :0.0000  
 1st Qu.: 21.00   1st Qu.:1.400     1st Qu.:0.00000   1st Qu.:0.0000  
 Median : 28.00   Median :2.190     Median :0.00000   Median :0.0000  
 Mean   : 38.44   Mean   :2.382     Mean   :0.09137   Mean   :0.3046  
 3rd Qu.: 51.00   3rd Qu.:2.900     3rd Qu.:0.00000   3rd Qu.:1.0000  
 Max.   :125.00   Max.   :7.100     Max.   :1.00000   Max.   :1.0000  
 NA's   :138      NA's   :136                                         
 IV_jaundice_bili   IV_anemia       IV_anemia_hgb      Eligible
 Min.   : 1.100   Min.   :0.00000   Min.   :3.700   Min.   :1  
 1st Qu.: 2.900   1st Qu.:0.00000   1st Qu.:5.750   1st Qu.:1  
 Median : 4.100   Median :0.00000   Median :6.400   Median :1  
 Mean   : 5.957   Mean   :0.09645   Mean   :6.147   Mean   :1  
 3rd Qu.: 7.725   3rd Qu.:0.00000   3rd Qu.:6.700   3rd Qu.:1  
 Max.   :23.700   Max.   :1.00000   Max.   :6.900   Max.   :1  
 NA's   :137                        NA's   :178                
     Severe       Date_consented     Date_recorded       Age Group        
 Min.   :0.0000   Length:197         Length:197         Length:197        
 1st Qu.:1.0000   Class :character   Class :character   Class :character  
 Median :1.0000   Mode  :character   Mode  :character   Mode  :character  
 Mean   :0.9848                                                           
 3rd Qu.:1.0000                                                           
 Max.   :1.0000                                                           
                                                                          
      Sex            Latino            Race           Race_other_spec   
 Min.   :0.000   Min.   :0.00000   Length:197         Length:197        
 1st Qu.:0.000   1st Qu.:0.00000   Class :character   Class :character  
 Median :0.000   Median :0.00000   Mode  :character   Mode  :character  
 Mean   :0.401   Mean   :0.01531                                        
 3rd Qu.:1.000   3rd Qu.:0.00000                                        
 Max.   :1.000   Max.   :1.00000                                        
                 NA's   :1                                              
    Pregnant            EGA          Trimester     Smear_done   Smear_read    
 Min.   :0.00000   Min.   :28.00   Min.   :3     Min.   :1    Min.   :0.0000  
 1st Qu.:0.00000   1st Qu.:28.75   1st Qu.:3     1st Qu.:1    1st Qu.:1.0000  
 Median :0.00000   Median :29.50   Median :3     Median :1    Median :1.0000  
 Mean   :0.01015   Mean   :29.50   Mean   :3     Mean   :1    Mean   :0.9949  
 3rd Qu.:0.00000   3rd Qu.:30.25   3rd Qu.:3     3rd Qu.:1    3rd Qu.:1.0000  
 Max.   :1.00000   Max.   :31.00   Max.   :3     Max.   :1    Max.   :1.0000  
                   NA's   :195     NA's   :195                                
 Admit_species      Admit_mixed_specify Admit_parasitemia Pre_antimalarial
 Length:197         Length:197          Min.   : 0.10     Min.   :0.0000  
 Class :character   Class :character    1st Qu.: 4.30     1st Qu.:1.0000  
 Mode  :character   Mode  :character    Median : 8.00     Median :1.0000  
                                        Mean   :10.87     Mean   :0.9487  
                                        3rd Qu.:13.60     3rd Qu.:1.0000  
                                        Max.   :69.00     Max.   :1.0000  
                                        NA's   :2         NA's   :158     
  Pre_coartem      Pre_malarone       Pre_doxy      Pre_mefloquine   
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.00000  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.00000  
 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.00000  
 Mean   :0.3846   Mean   :0.4615   Mean   :0.1026   Mean   :0.05128  
 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:0.00000  
 Max.   :1.0000   Max.   :1.0000   Max.   :1.0000   Max.   :1.00000  
 NA's   :158      NA's   :158      NA's   :158      NA's   :158      
   Pre_clinda       Pre_quinine        Pre_other   Pre_other_spec
 Min.   :0.00000   Min.   :0.00000   Min.   :0     Mode:logical  
 1st Qu.:0.00000   1st Qu.:0.00000   1st Qu.:0     NA's:197      
 Median :0.00000   Median :0.00000   Median :0                   
 Mean   :0.02564   Mean   :0.07895   Mean   :0                   
 3rd Qu.:0.00000   3rd Qu.:0.00000   3rd Qu.:0                   
 Max.   :1.00000   Max.   :1.00000   Max.   :0                   
 NA's   :158       NA's   :159       NA's   :158                 
 Admit_CBC_date     Admit_CBC_time    Admit_HGB       Admit_HCT    
 Length:197         Mode :logical   Min.   : 3.70   Min.   :11.00  
 Class :character   FALSE:14        1st Qu.: 9.90   1st Qu.:30.00  
 Mode  :character   TRUE :183       Median :11.80   Median :35.00  
                                    Mean   :11.49   Mean   :34.36  
                                    3rd Qu.:13.38   3rd Qu.:39.00  
                                    Max.   :17.00   Max.   :49.00  
                                    NA's   :3       NA's   :4      
   Admit_PLT        Admit_WBC      Admit_chempanel_date Admit_chempanel_time
 Min.   :  4.00   Min.   : 1.380   Length:197           Mode :logical       
 1st Qu.: 32.00   1st Qu.: 4.463   Class :character     FALSE:13            
 Median : 50.00   Median : 6.135   Mode  :character     TRUE :184           
 Mean   : 68.56   Mean   : 6.842                                            
 3rd Qu.: 89.25   3rd Qu.: 8.018                                            
 Max.   :254.00   Max.   :31.800                                            
 NA's   :5        NA's   :3                                                 
    Admit_Na        Admit_K         Admit_Cl        Admit_HCO3   
 Min.   :116.0   Min.   :2.300   Min.   : 11.00   Min.   : 2.00  
 1st Qu.:131.0   1st Qu.:3.500   1st Qu.: 96.00   1st Qu.:19.00  
 Median :134.0   Median :3.800   Median :101.00   Median :22.00  
 Mean   :133.9   Mean   :3.876   Mean   : 99.35   Mean   :20.95  
 3rd Qu.:137.0   3rd Qu.:4.200   3rd Qu.:105.00   3rd Qu.:23.00  
 Max.   :153.0   Max.   :6.900   Max.   :123.00   Max.   :29.00  
 NA's   :3       NA's   :3       NA's   :4        NA's   :14     
   Admit_BUN     Admit_creatinine Admit_glucose     Admit_AST     
 Min.   : 3.00   Min.   :0.230    Min.   : 11.0   Min.   : 14.00  
 1st Qu.:13.00   1st Qu.:0.700    1st Qu.: 95.0   1st Qu.: 37.00  
 Median :18.00   Median :1.045    Median :107.0   Median : 54.00  
 Mean   :22.99   Mean   :1.295    Mean   :120.8   Mean   : 80.66  
 3rd Qu.:26.75   3rd Qu.:1.515    3rd Qu.:126.5   3rd Qu.: 93.25  
 Max.   :87.00   Max.   :6.560    Max.   :398.0   Max.   :903.00  
 NA's   :7       NA's   :3        NA's   :6       NA's   :5       
   Admit_ALT        Admit_bili     Admit_LDH_date     Admit_LDH_time 
 Min.   :  5.00   Min.   : 0.300   Length:197         Mode :logical  
 1st Qu.: 24.00   1st Qu.: 1.192   Class :character   FALSE:13       
 Median : 39.00   Median : 2.100   Mode  :character   TRUE :184      
 Mean   : 57.81   Mean   : 3.245                                     
 3rd Qu.: 74.00   3rd Qu.: 3.925                                     
 Max.   :364.00   Max.   :23.700                                     
 NA's   :4        NA's   :5                                          
   Admit_LDH          AS_lot              Weight         Num_AS_std   
 Min.   :    3.0   Length:197         Min.   :  9.20   Min.   :3.000  
 1st Qu.:  369.5   Class :character   1st Qu.: 52.00   1st Qu.:4.000  
 Median :  564.0   Mode  :character   Median : 73.00   Median :4.000  
 Mean   :  861.5                      Mean   : 68.59   Mean   :3.792  
 3rd Qu.:  892.5                      3rd Qu.: 88.00   3rd Qu.:4.000  
 Max.   :11572.0                      Max.   :153.00   Max.   :4.000  
 NA's   :101                                                          
    Extra_AS        Extra_AS_npo Extra_AS_parasitemia Extra_AS_other  
 Min.   :0.00000   Min.   :0     Min.   :0.0000       Min.   :0.0000  
 1st Qu.:0.00000   1st Qu.:0     1st Qu.:0.0000       1st Qu.:0.0000  
 Median :0.00000   Median :0     Median :0.0000       Median :1.0000  
 Mean   :0.03046   Mean   :0     Mean   :0.2857       Mean   :0.5714  
 3rd Qu.:0.00000   3rd Qu.:0     3rd Qu.:0.5000       3rd Qu.:1.0000  
 Max.   :1.00000   Max.   :0     Max.   :1.0000       Max.   :1.0000  
                   NA's   :190   NA's   :190          NA's   :190     
 Extra_AS_other_spec FollowOn_oral    FollowOn_oral_spec  FollowOn_ok    
 Length:197          Min.   :0.0000   Length:197         Min.   :0.0000  
 Class :character    1st Qu.:1.0000   Class :character   1st Qu.:1.0000  
 Mode  :character    Median :1.0000   Mode  :character   Median :1.0000  
                     Mean   :0.9391                      Mean   :0.9615  
                     3rd Qu.:1.0000                      3rd Qu.:1.0000  
                     Max.   :1.0000                      Max.   :1.0000  
                                                         NA's   :15      
 FollowOn_notes       Adjunct_tx      Transfusion        Exchange      
 Length:197         Min.   :0.0000   Min.   :0.0000   Min.   :0.00000  
 Class :character   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.00000  
 Mode  :character   Median :0.0000   Median :0.0000   Median :0.00000  
                    Mean   :0.4112   Mean   :0.2437   Mean   :0.01523  
                    3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:0.00000  
                    Max.   :1.0000   Max.   :1.0000   Max.   :1.00000  
                                                                       
    Dialysis        Vasopressors    Adjunct_other    Adjunct_other_spec
 Min.   :0.00000   Min.   :0.0000   Min.   :0.0000   Length:197        
 1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:0.0000   Class :character  
 Median :0.00000   Median :0.0000   Median :0.0000   Mode  :character  
 Mean   :0.07614   Mean   :0.1218   Mean   :0.1472                     
 3rd Qu.:0.00000   3rd Qu.:0.0000   3rd Qu.:0.0000                     
 Max.   :1.00000   Max.   :1.0000   Max.   :1.0000                     
                                                                       
 FU_CBC_date        FU_CBC_time         FU_HGB           FU_HCT     
 Length:197         Mode :logical   Min.   : 3.800   Min.   : 9.00  
 Class :character   FALSE:11        1st Qu.: 8.500   1st Qu.:25.25  
 Mode  :character   TRUE :186       Median : 9.500   Median :28.00  
                                    Mean   : 9.563   Mean   :28.36  
                                    3rd Qu.:10.875   3rd Qu.:33.00  
                                    Max.   :13.800   Max.   :43.00  
                                    NA's   :7        NA's   :7      
     FU_PLT           FU_WBC       FU_chempanel_date  FU_chempanel_time
 Min.   :  4.00   Min.   : 1.460   Length:197         Mode :logical    
 1st Qu.: 54.25   1st Qu.: 4.900   Class :character   FALSE:11         
 Median : 88.50   Median : 6.100   Mode  :character   TRUE :186        
 Mean   : 94.81   Mean   : 7.226                                       
 3rd Qu.:127.75   3rd Qu.: 8.450                                       
 Max.   :254.00   Max.   :27.100                                       
 NA's   :7        NA's   :6                                            
     FU_Na          FU_K           FU_Cl          FU_HCO3         FU_BUN     
 Min.   :126   Min.   :2.600   Min.   : 90.0   Min.   : 0.0   Min.   : 3.00  
 1st Qu.:135   1st Qu.:3.600   1st Qu.:102.0   1st Qu.:21.0   1st Qu.: 8.00  
 Median :137   Median :3.800   Median :105.0   Median :23.0   Median :12.00  
 Mean   :137   Mean   :3.892   Mean   :105.3   Mean   :22.8   Mean   :17.93  
 3rd Qu.:139   3rd Qu.:4.100   3rd Qu.:108.0   3rd Qu.:25.0   3rd Qu.:19.00  
 Max.   :155   Max.   :6.500   Max.   :128.0   Max.   :30.0   Max.   :88.00  
 NA's   :6     NA's   :6       NA's   :6       NA's   :16     NA's   :9      
 FU_creatinine     FU_glucose        FU_AST           FU_ALT      
 Min.   :0.190   Min.   : 12.0   Min.   :  15.0   Min.   :  7.00  
 1st Qu.:0.540   1st Qu.: 90.0   1st Qu.:  42.0   1st Qu.: 27.00  
 Median :0.790   Median : 99.5   Median :  79.0   Median : 48.00  
 Mean   :1.256   Mean   :105.3   Mean   : 105.6   Mean   : 69.56  
 3rd Qu.:1.090   3rd Qu.:115.2   3rd Qu.: 130.0   3rd Qu.: 91.00  
 Max.   :6.730   Max.   :322.0   Max.   :1817.0   Max.   :688.00  
 NA's   :6       NA's   :9       NA's   :26       NA's   :26      
    FU_bili       FU_LDH_date        FU_LDH_time         FU_LDH       
 Min.   : 0.020   Length:197         Mode :logical   Min.   :    3.0  
 1st Qu.: 0.530   Class :character   FALSE:27        1st Qu.:  412.0  
 Median : 1.000   Mode  :character   TRUE :170       Median :  659.0  
 Mean   : 2.412                                      Mean   :  939.7  
 3rd Qu.: 2.400                                      3rd Qu.:  959.0  
 Max.   :21.700                                      Max.   :14930.0  
 NA's   :29                                          NA's   :118      
   End_date          Tx_complete     Incomplete_spec    Incomplete_other_spec
 Length:197         Min.   :0.0000   Length:197         Length:197           
 Class :character   1st Qu.:1.0000   Class :character   Class :character     
 Mode  :character   Median :1.0000   Mode  :character   Mode  :character     
                    Mean   :0.9543                                           
                    3rd Qu.:1.0000                                           
                    Max.   :1.0000                                           
                                                                             
   FO_coartem      FO_malarone        FO_doxy        FO_mefloquine     
 Min.   :0.0000   Min.   :0.0000   Min.   :0.00000   Min.   :0.000000  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.00000   1st Qu.:0.000000  
 Median :0.0000   Median :1.0000   Median :0.00000   Median :0.000000  
 Mean   :0.2887   Mean   :0.5515   Mean   :0.08247   Mean   :0.005155  
 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:0.00000   3rd Qu.:0.000000  
 Max.   :1.0000   Max.   :1.0000   Max.   :1.00000   Max.   :1.000000  
 NA's   :3        NA's   :3        NA's   :3         NA's   :3         
   FO_clinda         FO_quinine         FO_other FO_other_spec 
 Min.   :0.00000   Min.   :0.00000   Min.   :0   Mode:logical  
 1st Qu.:0.00000   1st Qu.:0.00000   1st Qu.:0   NA's:197      
 Median :0.00000   Median :0.00000   Median :0                 
 Mean   :0.03093   Mean   :0.01036   Mean   :0                 
 3rd Qu.:0.00000   3rd Qu.:0.00000   3rd Qu.:0                 
 Max.   :1.00000   Max.   :1.00000   Max.   :0                 
 NA's   :3         NA's   :4         NA's   :4                 
 FO_appropriate  
 Min.   :0.0000  
 1st Qu.:1.0000  
 Median :1.0000  
 Mean   :0.8619  
 3rd Qu.:1.0000  
 Max.   :1.0000  
 NA's   :16      </code></pre>
</div>
</div>
</section>
<section id="summary-tables" class="level1">
<h1>Summary Tables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting categorical variables/Distribution of Categorical Variables %</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>categorical_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Dx"</span>, <span class="st">"FO_appropriate"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to compute percentage distribution</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>categorical_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(.data[[var]]) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">Percentage =</span> (<span class="fu">n</span>() <span class="sc">/</span> <span class="fu">nrow</span>(df)) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Computing summary for each categorical variable</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>cat_summary_list <span class="ot">&lt;-</span> <span class="fu">lapply</span>(categorical_vars, <span class="cf">function</span>(var) <span class="fu">categorical_summary</span>(cdcMalaria, var))</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Printing categorical summaries</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>cat_summary_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 2 × 3
  Dx         Count Percentage
  &lt;chr&gt;      &lt;int&gt;      &lt;dbl&gt;
1 Clinical      49       24.9
2 Microscopy   148       75.1

[[2]]
# A tibble: 3 × 3
  FO_appropriate Count Percentage
           &lt;dbl&gt; &lt;int&gt;      &lt;dbl&gt;
1              0    25      12.7 
2              1   156      79.2 
3             NA    16       8.12</code></pre>
</div>
</div>
</section>
<section id="summary-statistics-for-continuous-variables" class="level1">
<h1>Summary Statistics for Continuous Variables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting continuous variables</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics for Continuous Variables with Missing Value Handling</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>continuous_vars <span class="ot">&lt;-</span> cdcMalaria <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="sc">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="sc">~</span><span class="fu">sd</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="sc">~</span><span class="fu">min</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">q25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="sc">~</span><span class="fu">median</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">q75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="sc">~</span><span class="fu">max</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Printing summary table</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(continuous_vars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 623
  ParticipantID_mean IV_npo_mean IV_parasitemia_mean IV_parasitemia_spec_mean
               &lt;dbl&gt;       &lt;dbl&gt;               &lt;dbl&gt;                    &lt;dbl&gt;
1                 99       0.157               0.751                     14.0
# ℹ 619 more variables: IV_cns_mean &lt;dbl&gt;, IV_sz_mean &lt;dbl&gt;,
#   IV_shock_mean &lt;dbl&gt;, IV_shock_pressors_mean &lt;dbl&gt;, IV_ards_mean &lt;dbl&gt;,
#   IV_acidosis_mean &lt;dbl&gt;, IV_ARF_mean &lt;dbl&gt;, IV_ARF_BUN_mean &lt;dbl&gt;,
#   IV_ARF_creatinine_mean &lt;dbl&gt;, IV_DIC_mean &lt;dbl&gt;, IV_jaundice_mean &lt;dbl&gt;,
#   IV_jaundice_bili_mean &lt;dbl&gt;, IV_anemia_mean &lt;dbl&gt;,
#   IV_anemia_hgb_mean &lt;dbl&gt;, Eligible_mean &lt;dbl&gt;, Severe_mean &lt;dbl&gt;,
#   Sex_mean &lt;dbl&gt;, Latino_mean &lt;dbl&gt;, Pregnant_mean &lt;dbl&gt;, EGA_mean &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="visualizationsbar-charts-for-categorical-variables" class="level1">
<h1>Visualizations/Bar Charts for Categorical Variables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot categorical variable distribution</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>plot_categorical <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> .data[[var]])) <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> (..count..) <span class="sc">/</span> <span class="fu">sum</span>(..count..)), <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, var), <span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">x =</span> var) <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating bar charts</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> categorical_vars) {</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">plot_categorical</span>(cdcMalaria, var))</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(count)` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 16 rows containing non-finite outside the scale range
(`stat_count()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="histograms-for-continuous-variables" class="level1">
<h1>Histograms for Continuous Variables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot histogram and density curve</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>plot_histogram <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> .data[[var]])) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">20</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, var), <span class="at">x =</span> var, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Select numeric variables from the original dataset</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>numeric_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(cdcMalaria <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)))</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot first 5 continuous variables</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> numeric_vars[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]) {  <span class="co"># Use column names from the original dataset</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">plot_histogram</span>(cdcMalaria, var))</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-8-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 49 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 49 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-8-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-8-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="section" class="level46">
<p class="heading"></p>
</section>
<section id="this-part-was-contributed-by-murtaza-yaqubi." class="level2">
<h2 class="anchored" data-anchor-id="this-part-was-contributed-by-murtaza-yaqubi.">This part was contributed by Murtaza Yaqubi.</h2>
<p>It’s a good practice to install and load the necessary packages for analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.4.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'purrr' was built under R version 4.4.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lubridate' was built under R version 4.4.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ lubridate 1.9.4     ✔ tibble    3.2.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter()  masks stats::filter()
✖ purrr::flatten() masks jsonlite::flatten()
✖ dplyr::lag()     masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="generating-synthetic-data-frame." class="level3">
<h3 class="anchored" data-anchor-id="generating-synthetic-data-frame.">Generating synthetic data frame.</h3>
<p>I created a synthetic data frame to replicate the analysis of the dataset above. To achieve this, I used the results of the original analysis to attempt to replicate the original dataset with its corresponding results. I began by setting a seed for reproducibility. Next, I defined the number of observations before introducing the codes for the variables in the data frame. The data frame contains two categorical variables and five continuous variables. These variables are Patient_ID, Condition, TreatmentGiven, BreathCount, Fever, Tachycardia, and Hypoglycemia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed for reproducibility</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define number of observations</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">197</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate synthetic dataset</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>HealthSynthetic <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Unique Patient ID</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Patient_ID =</span> <span class="dv">1</span><span class="sc">:</span>n,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Categorical Variables (pneumonia and bronchitis)</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Condition =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Pneumonia"</span>, <span class="st">"Bronchitis"</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.2487</span>, <span class="fl">0.7513</span>)),</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">TreatmentGiven =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="cn">NA</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.1269</span>, <span class="fl">0.7919</span>, <span class="fl">0.0812</span>)),</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Continuous Variables (breath count, fever, tachycardia, hypoglycemia)</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">BreathCount =</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="fl">13.98141</span>, <span class="at">sd =</span> <span class="fl">11.31289</span>)),</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">Fever =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="cn">NA</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.90</span>, <span class="fl">0.05</span>, <span class="fl">0.05</span>)), </span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">Tachycardia =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="cn">NA</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.50</span>, <span class="fl">0.45</span>, <span class="fl">0.05</span>)),  </span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hypoglycemia =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="cn">NA</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.75</span>, <span class="fl">0.20</span>, <span class="fl">0.05</span>))  </span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first few rows</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(HealthSynthetic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Patient_ID  Condition TreatmentGiven BreathCount Fever Tachycardia
1          1 Bronchitis              1           0     0           1
2          2  Pneumonia              1           7    NA           0
3          3 Bronchitis              1           1    NA           0
4          4  Pneumonia              1          39     0           0
5          5  Pneumonia             NA          29     0           0
6          6 Bronchitis              1          11     0           0
  Hypoglycemia
1            0
2            1
3            1
4            0
5            0
6            1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(HealthSynthetic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Patient_ID   Condition         TreatmentGiven    BreathCount    
 Min.   :  1   Length:197         Min.   :0.0000   Min.   :-14.00  
 1st Qu.: 50   Class :character   1st Qu.:1.0000   1st Qu.:  7.00  
 Median : 99   Mode  :character   Median :1.0000   Median : 14.00  
 Mean   : 99                      Mean   :0.8833   Mean   : 14.34  
 3rd Qu.:148                      3rd Qu.:1.0000   3rd Qu.: 22.00  
 Max.   :197                      Max.   :1.0000   Max.   : 43.00  
                                  NA's   :17                       
     Fever          Tachycardia      Hypoglycemia   
 Min.   :0.00000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :0.00000   Median :0.0000   Median :0.0000  
 Mean   :0.04839   Mean   :0.4607   Mean   :0.1809  
 3rd Qu.:0.00000   3rd Qu.:1.0000   3rd Qu.:0.0000  
 Max.   :1.00000   Max.   :1.0000   Max.   :1.0000  
 NA's   :11        NA's   :6        NA's   :9       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check structure</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(HealthSynthetic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   197 obs. of  7 variables:
 $ Patient_ID    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Condition     : chr  "Bronchitis" "Pneumonia" "Bronchitis" "Pneumonia" ...
 $ TreatmentGiven: num  1 1 1 1 NA 1 1 1 0 1 ...
 $ BreathCount   : num  0 7 1 39 29 11 20 9 9 5 ...
 $ Fever         : num  0 NA NA 0 0 0 0 0 0 0 ...
 $ Tachycardia   : num  1 0 0 0 0 0 0 1 0 1 ...
 $ Hypoglycemia  : num  0 1 1 0 0 1 0 0 0 0 ...</code></pre>
</div>
</div>
</section>
<section id="summary-statistics" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics">Summary statistics:</h3>
<p>I generated the summary statistics for both categorical and continuous variables by leveraging loop functions. This approach allowed me to efficiently apply the same set of operations to multiple variables without repeating large chunks of code, thus streamlining the analysis process and minimizing the risk of errors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Before producing summary tables, I have to convert "Condition" and "TreatmentGiven" to factors from characters.   </span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>HealthSynthetic <span class="ot">&lt;-</span> HealthSynthetic <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Condition =</span> <span class="fu">as.factor</span>(Condition), <span class="at">TreatmentGiven =</span> <span class="fu">as.factor</span>(TreatmentGiven))</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Categorical Variables Summary</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>categorical_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"TreatmentGiven"</span>)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>categorical_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(.data[[var]]) <span class="sc">%&gt;%</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">Percentage =</span> (<span class="fu">n</span>() <span class="sc">/</span> <span class="fu">nrow</span>(df)) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute summaries for categorical variables</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>cat_summary_list <span class="ot">&lt;-</span> <span class="fu">lapply</span>(categorical_vars, <span class="cf">function</span>(var) <span class="fu">categorical_summary</span>(HealthSynthetic, var))</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Print categorical summaries</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(cat_summary_list) <span class="ot">&lt;-</span> categorical_vars</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cat_summary_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Condition
# A tibble: 2 × 3
  Condition  Count Percentage
  &lt;fct&gt;      &lt;int&gt;      &lt;dbl&gt;
1 Bronchitis   150       76.1
2 Pneumonia     47       23.9

$TreatmentGiven
# A tibble: 3 × 3
  TreatmentGiven Count Percentage
  &lt;fct&gt;          &lt;int&gt;      &lt;dbl&gt;
1 0                 21      10.7 
2 1                159      80.7 
3 &lt;NA&gt;              17       8.63</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Continuous Variables Summary</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>continuous_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Patient_ID"</span>, <span class="st">"BreathCount"</span>, <span class="st">"Fever"</span>, <span class="st">"Tachycardia"</span>, <span class="st">"Hypoglycemia"</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>continuous_summary <span class="ot">&lt;-</span> HealthSynthetic <span class="sc">%&gt;%</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># Select only numeric variables</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="sc">~</span><span class="fu">mean</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="sc">~</span><span class="fu">sd</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="sc">~</span><span class="fu">min</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">q25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="sc">~</span><span class="fu">median</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">q75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="sc">~</span><span class="fu">max</span>(., <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Print continuous summary</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(continuous_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Patient_ID_mean BreathCount_mean Fever_mean Tachycardia_mean
1              99          14.3401  0.0483871         0.460733
  Hypoglycemia_mean Patient_ID_sd BreathCount_sd Fever_sd Tachycardia_sd
1         0.1808511      57.01316       11.30789 0.215162      0.4997657
  Hypoglycemia_sd Patient_ID_min BreathCount_min Fever_min Tachycardia_min
1       0.3859225              1             -14         0               0
  Hypoglycemia_min Patient_ID_q25 BreathCount_q25 Fever_q25 Tachycardia_q25
1                0             50               7         0               0
  Hypoglycemia_q25 Patient_ID_median BreathCount_median Fever_median
1                0                99                 14            0
  Tachycardia_median Hypoglycemia_median Patient_ID_q75 BreathCount_q75
1                  0                   0            148              22
  Fever_q75 Tachycardia_q75 Hypoglycemia_q75 Patient_ID_max BreathCount_max
1         0               1                0            197              43
  Fever_max Tachycardia_max Hypoglycemia_max
1         1               1                1</code></pre>
</div>
</div>
</section>
<section id="plotting-the-data" class="level3">
<h3 class="anchored" data-anchor-id="plotting-the-data">Plotting the data:</h3>
<p>I used loop functions to generate bar plots for both categorical and continuous variables, enabling me to efficiently apply the same plotting logic to multiple variables without duplicating code. This approach streamlined the visualization process and made the code more compact and manageable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot categorical variable distribution</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>plot_categorical <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(.data[[var]]))) <span class="sc">+</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> (..count..) <span class="sc">/</span> <span class="fu">sum</span>(..count..)), <span class="at">fill =</span> <span class="st">"purple"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, var), <span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">x =</span> var) <span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Categorical variables</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>categorical_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"TreatmentGiven"</span>)</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating bar charts</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> categorical_vars) {</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">plot_categorical</span>(HealthSynthetic, var))</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot histogram and density curve</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>plot_histogram <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var) {</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> .data[[var]])) <span class="sc">+</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">20</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, var), <span class="at">x =</span> var, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Continuous variables</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>numeric_vars <span class="ot">&lt;-</span> <span class="fu">names</span>(HealthSynthetic <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)))</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot continuous variables</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> numeric_vars) {  </span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">plot_histogram</span>(HealthSynthetic, var))</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 11 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 11 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 9 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 9 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="cdcdata-exercise_files/figure-html/unnamed-chunk-12-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Note: The reason my synthetic data frame appears almost identical to the original dataset is that I used the results of the original dataset to create my synthetic data frame. My objective was to replicate the original dataset’s results as closely as possible. I utilized ChatGpt to assist me in this process. It involved numerous trials and errors, along with prompting, to achieve the desired outcome. Additionally, I gained valuable insights from Asmith’s code during this exercise. Notably, I was introduced to a looping function that I copied for my analysis, which not only made my code look cleaner but also eliminated the need to add large chunks of code. I found looping functions particularly useful in plotting and creating a summary table for the variables of interest in this exercise.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>